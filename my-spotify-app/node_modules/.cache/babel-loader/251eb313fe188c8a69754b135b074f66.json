{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\src\\\\FindGenres.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport SinglePlaylist from './SinglePlaylist';\nimport SingleTrack from './SingleTrack';\nimport Limit from './Limit';\nimport { hidePlayer } from './Service';\n\nvar FindGenres =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FindGenres, _React$Component);\n\n  function FindGenres(props) {\n    var _this;\n\n    _classCallCheck(this, FindGenres);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FindGenres).call(this, props));\n\n    _this.CategoryFromTrack = function () {\n      // const changeCategoryOnTrack = document.querySelector('.Find-Albums-Box')\n      // changeCategoryOnTrack.style.display = 'block';\n      // const changeCategoryOnTrackBox = document.querySelector('.Find-Albums-Tracks-Box')\n      // changeCategoryOnTrackBox.style.display = 'none';\n      // const  buttonBackToCategory = document.querySelector('.Back-To-Album-List')\n      // buttonBackToCategory.style.display=\"none\";\n      // const changeCategoryOnTrackNext = document.querySelector('.Find-Sounds-Button-Next')\n      // if(changeCategoryOnTrackNext){\n      // changeCategoryOnTrackNext.style.display = 'block';\n      // }\n      // const  changeCategoryOnTrackPrev = document.querySelector('.Find-Sounds-Button-Prev')\n      // if(changeCategoryOnTrackPrev){\n      //   changeCategoryOnTrackPrev.style.display=\"block\";\n      // }\n      var GenresOption = document.querySelector('.Genres-Options');\n      GenresOption.style.height = '30px';\n    };\n\n    _this.state = {\n      searchValue: '',\n      backColor: '',\n      playList: [],\n      tracksList: [],\n      totals: '',\n      limit: 100,\n      myoffset: 0,\n      refresh: '',\n      url: \"\"\n    };\n    return _this;\n  } // POBIERA WARTOSC INPUTA I PRZYPISUJE DO ZMIENNEJ//\n\n\n  _createClass(FindGenres, [{\n    key: \"selectGenre\",\n    value: function selectGenre(value) {\n      var _this2 = this;\n\n      this.setState({\n        searchValue: value\n      });\n      setTimeout(function () {\n        return _this2.search(_this2.state.searchValue);\n      }, 10);\n    } //POBIERA PIOSENKI Z WYBRANEGO GATUNKU//\n\n  }, {\n    key: \"search\",\n    value: function search(value) {\n      var _this3 = this;\n\n      if (value === '') {\n        this.setState({\n          playList: []\n        });\n      } else {\n        axios({\n          url: \"https://api.spotify.com/v1/browse/categories/\".concat(value, \"/playlists\"),\n          headers: {\n            'Authorization': 'Bearer ' + this.props.mytoken\n          }\n        }).then(function (resp) {\n          _this3.setState({\n            playList: resp.data.playlists.items\n          });\n        }).catch(function (error) {\n          return new Error(console.log(error));\n        });\n      }\n    }\n  }, {\n    key: \"changeLimit\",\n    value: function changeLimit(e) {\n      var _this4 = this;\n\n      var newLimit = parseInt(e.currentTarget.value);\n      this.setState({\n        limit: newLimit,\n        myoffset: 0\n      });\n      setTimeout(function () {\n        _this4.showSongs(_this4.state.url);\n      }, 100);\n    }\n  }, {\n    key: \"tracksList\",\n    value: function tracksList(url, index, totalTracks) {\n      var forPhone = window.matchMedia(\"(max-width: 799px)\");\n\n      if (forPhone.matches) {\n        var changeCategoryOnTrack = document.querySelector('.Playlists-Box');\n        changeCategoryOnTrack.style.display = 'none';\n        var changeCategoryOnTrackBox = document.querySelector('.Playlists-Tracks');\n        changeCategoryOnTrackBox.style.display = 'block';\n        var GenresOption = document.querySelector('.Genres-Options');\n        GenresOption.style.height = '70px';\n        var buttonBackToCategory = document.querySelector('.Back-To-Album-List');\n        buttonBackToCategory.style.display = \"block\";\n        var changeAlbumOnTrackNext = document.querySelector('.Find-Sounds-Button-Next');\n\n        if (changeAlbumOnTrackNext) {\n          changeAlbumOnTrackNext.style.display = 'none';\n        }\n\n        var changeAlbumOnTrackPrev = document.querySelector('.Find-Sounds-Button-Prev');\n\n        if (changeAlbumOnTrackPrev) {\n          changeAlbumOnTrackPrev.style.display = \"none\";\n        }\n      }\n\n      hidePlayer();\n      this.showSongs(url);\n      this.setState({\n        myoffset: 0,\n        tracksListLength: totalTracks\n      });\n\n      if (this.state.backColor != '') {\n        var backingAlbumListColor = document.querySelector(\"#\".concat(this.state.backColor));\n        backingAlbumListColor.style.background = \"#2b2b2b\";\n      }\n\n      var onShowAlbumList = document.querySelector(\"#playlist\".concat(index));\n      onShowAlbumList.style.background = \"#5f5f5f\";\n      this.setState({\n        backColor: \"playlist\".concat(index)\n      });\n    }\n  }, {\n    key: \"showSongs\",\n    value: function showSongs(url) {\n      var _this5 = this;\n\n      this.setState({\n        url: url\n      });\n      url = \"\".concat(url, \"?&offset=\").concat(this.state.myoffset, \"&limit=\").concat(this.state.limit);\n      axios({\n        url: url,\n        headers: {\n          'Authorization': 'Bearer ' + this.props.mytoken\n        }\n      }).then(function (resp) {\n        _this5.setState({\n          tracksList: resp.data.items\n        });\n      }).catch(function (error) {\n        return new Error(console.log(error));\n      });\n    } //OTWIERA NOWE OKNO Z PIOSENKA PO KLIKNIECIU NA   PRZYCISK PLAY//\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var display;\n\n      if (this.state.searchValue === '') {\n        display = React.createElement(\"div\", {\n          className: \"Choose-Genre\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, this.props.typeTracks.map(function (element, index) {\n          return React.createElement(\"div\", {\n            className: \"Single-Genre-Box element-icon\",\n            onClick: _this6.selectGenre.bind(_this6, element.id),\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"Single-Genre-Text\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156\n            },\n            __self: this\n          }, element.name), React.createElement(\"img\", {\n            src: element.icons[0].url,\n            className: \"Single-Genre-Image\",\n            alt: \" \",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"Shadow-Box\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158\n            },\n            __self: this\n          }));\n        }));\n      } else {\n        var back = \"\",\n            prevButton = \"\",\n            nextButton = \"\";\n        back = React.createElement(\"div\", {\n          className: \"Back-Button\",\n          onClick: function onClick() {\n            return _this6.setState({\n              searchValue: '',\n              tracksList: [],\n              url: ''\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, \" All categories \");\n\n        if (this.state.tracksList.length !== 0) {\n          if (this.state.myoffset > 0) {\n            prevButton = React.createElement(\"div\", {\n              className: \"Prev-Button\",\n              onClick: function onClick() {\n                var newOffset = parseInt(_this6.state.myoffset) - parseInt(_this6.state.limit);\n                if (newOffset < 0) newOffset = 0;\n\n                _this6.setState({\n                  myoffset: newOffset\n                });\n\n                _this6.showSongs(_this6.state.url);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 170\n              },\n              __self: this\n            }, \" PREV \");\n          }\n\n          if (this.state.myoffset + this.state.limit < this.state.tracksListLength) {\n            nextButton = React.createElement(\"div\", {\n              className: \"Next-Button\",\n              onClick: function onClick() {\n                var newOffset = parseInt(_this6.state.myoffset + _this6.state.limit);\n\n                _this6.setState({\n                  myoffset: newOffset\n                });\n\n                _this6.showSongs(_this6.state.url);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 181\n              },\n              __self: this\n            }, \" NEXT \");\n          }\n        }\n\n        display = React.createElement(\"div\", {\n          className: \"Genres-Results-Box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"Genres-Options\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"Genres-Options-Select\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, prevButton, back, React.createElement(\"button\", {\n          className: \"Back-To-Album-List\",\n          onClick: this.CategoryFromTrack.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, \"PLAYLISTS\"), nextButton), React.createElement(\"div\", {\n          className: \"Genres-Options-Limit-Box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, \"Limit: \", React.createElement(Limit, {\n          changeLimit: this.changeLimit.bind(this),\n          limit: this.state.limit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"Results-List\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"Playlists-Box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, this.state.playList.map(function (element, index) {\n          return React.createElement(SinglePlaylist, {\n            key: index,\n            parentElement: element,\n            parentTotals: element.tracks.total,\n            parentIndex: index,\n            mytoken: _this6.props.mytoken,\n            tracksList: _this6.tracksList.bind(_this6, element.tracks.href, index, element.tracks.total),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 209\n            },\n            __self: this\n          });\n        })), React.createElement(\"div\", {\n          className: \"Playlists-Tracks\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, this.state.tracksList.map(function (element, index) {\n          if (_this6.state.tracksList.length > 0) {\n            return React.createElement(SingleTrack, {\n              key: index,\n              parentElement: element.track,\n              parentIndex: index,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 217\n              },\n              __self: this\n            });\n          }\n        }))));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"Genres\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, display);\n    }\n  }]);\n\n  return FindGenres;\n}(React.Component);\n\nexport default FindGenres;","map":{"version":3,"sources":["C:\\Users\\Iveno\\Desktop\\Gicior_Z_Bolqiem\\My-spotify\\my-spotify-app\\src\\FindGenres.js"],"names":["React","axios","SinglePlaylist","SingleTrack","Limit","hidePlayer","FindGenres","props","CategoryFromTrack","GenresOption","document","querySelector","style","height","state","searchValue","backColor","playList","tracksList","totals","limit","myoffset","refresh","url","value","setState","setTimeout","search","headers","mytoken","then","resp","data","playlists","items","catch","error","Error","console","log","e","newLimit","parseInt","currentTarget","showSongs","index","totalTracks","forPhone","window","matchMedia","matches","changeCategoryOnTrack","display","changeCategoryOnTrackBox","buttonBackToCategory","changeAlbumOnTrackNext","changeAlbumOnTrackPrev","tracksListLength","backingAlbumListColor","background","onShowAlbumList","typeTracks","map","element","selectGenre","bind","id","name","icons","back","prevButton","nextButton","length","newOffset","changeLimit","tracks","total","href","track","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport SinglePlaylist from './SinglePlaylist';\r\nimport SingleTrack from './SingleTrack';\r\nimport Limit from './Limit';\r\nimport {hidePlayer} from './Service'\r\n\r\n\r\nclass FindGenres extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      searchValue: '',\r\n      backColor: '',\r\n      playList:[],\r\n      tracksList: [],\r\n      totals:'', \r\n      limit: 100,\r\n      myoffset: 0,\r\n      refresh: '',\r\n      url: \"\",\r\n    }\r\n  }\r\n    // POBIERA WARTOSC INPUTA I PRZYPISUJE DO ZMIENNEJ//\r\n    selectGenre(value){\r\n      this.setState({\r\n        searchValue: value,\r\n      });\r\n      setTimeout(() => this.search(this.state.searchValue),10)\r\n    }  \r\n\r\n    //POBIERA PIOSENKI Z WYBRANEGO GATUNKU//\r\n  search(value){\r\n    if(value === ''){\r\n      this.setState({\r\n        playList: []\r\n      })\r\n    }else{\r\n      axios({\r\n        url: `https://api.spotify.com/v1/browse/categories/${value}/playlists`,\r\n        headers:{\r\n        'Authorization': 'Bearer ' + this.props.mytoken\r\n        }\r\n      }).then(resp =>\r\n        { \r\n          this.setState({\r\n            playList: resp.data.playlists.items\r\n          })\r\n      }).catch(error => (new Error(console.log(error))))\r\n    }\r\n  }\r\n\r\n  changeLimit(e){\r\n    const newLimit = parseInt(e.currentTarget.value)\r\n    this.setState({\r\n      limit: newLimit,\r\n      myoffset: 0,\r\n    })\r\n    setTimeout(()=>{this.showSongs(this.state.url)}, 100);\r\n  }\r\n\r\n  tracksList(url, index, totalTracks){\r\n    let forPhone = window.matchMedia(\"(max-width: 799px)\")\r\n        if(forPhone.matches){\r\n          const changeCategoryOnTrack = document.querySelector('.Playlists-Box')\r\n          changeCategoryOnTrack.style.display = 'none';\r\n\r\n          const changeCategoryOnTrackBox = document.querySelector('.Playlists-Tracks')\r\n          changeCategoryOnTrackBox.style.display = 'block';\r\n\r\n          const GenresOption = document.querySelector('.Genres-Options')\r\n          GenresOption.style.height= '70px'\r\n\r\n          const  buttonBackToCategory = document.querySelector('.Back-To-Album-List')\r\n          buttonBackToCategory.style.display=\"block\";\r\n\r\n          \r\n          const changeAlbumOnTrackNext = document.querySelector('.Find-Sounds-Button-Next')\r\n          if(changeAlbumOnTrackNext){\r\n          changeAlbumOnTrackNext.style.display = 'none';\r\n          }\r\n          const  changeAlbumOnTrackPrev = document.querySelector('.Find-Sounds-Button-Prev')\r\n          if(changeAlbumOnTrackPrev){\r\n            changeAlbumOnTrackPrev.style.display=\"none\";\r\n          }\r\n\r\n        }\r\n    hidePlayer()\r\n    this.showSongs(url)\r\n    this.setState({\r\n      myoffset: 0,\r\n      tracksListLength: totalTracks,\r\n    })\r\n    if(this.state.backColor != ''){\r\n      const backingAlbumListColor = document.querySelector(`#${this.state.backColor}`)\r\n      backingAlbumListColor.style.background=\"#2b2b2b\";\r\n    }\r\n    const onShowAlbumList = document.querySelector(`#playlist${index}`)\r\n    onShowAlbumList.style.background=\"#5f5f5f\";\r\n    this.setState({\r\n      backColor: `playlist${index}`\r\n    })\r\n  }\r\n\r\n  \r\n  CategoryFromTrack =() =>{\r\n    // const changeCategoryOnTrack = document.querySelector('.Find-Albums-Box')\r\n    // changeCategoryOnTrack.style.display = 'block';\r\n  \r\n    // const changeCategoryOnTrackBox = document.querySelector('.Find-Albums-Tracks-Box')\r\n    // changeCategoryOnTrackBox.style.display = 'none';\r\n\r\n    // const  buttonBackToCategory = document.querySelector('.Back-To-Album-List')\r\n    // buttonBackToCategory.style.display=\"none\";\r\n\r\n    // const changeCategoryOnTrackNext = document.querySelector('.Find-Sounds-Button-Next')\r\n    // if(changeCategoryOnTrackNext){\r\n    // changeCategoryOnTrackNext.style.display = 'block';\r\n    // }\r\n    // const  changeCategoryOnTrackPrev = document.querySelector('.Find-Sounds-Button-Prev')\r\n    // if(changeCategoryOnTrackPrev){\r\n    //   changeCategoryOnTrackPrev.style.display=\"block\";\r\n    // }\r\n    \r\n    const GenresOption = document.querySelector('.Genres-Options')\r\n    GenresOption.style.height= '30px'\r\n  }\r\n\r\n\r\n  showSongs(url){  \r\n    this.setState({\r\n      url: url,\r\n    })\r\n    url = `${url}?&offset=${this.state.myoffset}&limit=${this.state.limit}`;\r\n    axios({\r\n    url: url,\r\n    headers:{\r\n      'Authorization': 'Bearer ' + this.props.mytoken\r\n      }\r\n    }).then(resp =>{ \r\n      this.setState({\r\n        tracksList: resp.data.items\r\n      }) \r\n    }).catch(error => (new Error(console.log(error))))\r\n  }\r\n\r\n    //OTWIERA NOWE OKNO Z PIOSENKA PO KLIKNIECIU NA   PRZYCISK PLAY//\r\n  render() { \r\n    let display;\r\n    if(this.state.searchValue === ''){\r\n      display =        \r\n      <div className=\"Choose-Genre\">\r\n        {this.props.typeTracks.map((element, index)=>{\r\n          return(\r\n            <div className=\"Single-Genre-Box element-icon\"   onClick={this.selectGenre.bind(this, element.id)} key={index} >\r\n              <div className=\"Single-Genre-Text\">{element.name}</div>\r\n              <img src={element.icons[0].url} className=\"Single-Genre-Image\" alt=\" \"/>\r\n              <div className=\"Shadow-Box\"></div>\r\n            </div> \r\n          )\r\n        })}\r\n      </div>\r\n    }\r\n    else{\r\n      let back = \"\", prevButton = \"\", nextButton=\"\";\r\n      back = <div className=\"Back-Button\" onClick={()=>this.setState({searchValue: '', tracksList: [], url: ''})}> All categories </div>\r\n     \r\n      if(this.state.tracksList.length !== 0){\r\n        if(this.state.myoffset  > 0){\r\n          prevButton = <div className=\"Prev-Button\" \r\n          onClick={()=>{\r\n            let newOffset = parseInt(this.state.myoffset) -  parseInt(this.state.limit)\r\n            if(newOffset < 0) newOffset = 0;\r\n            this.setState({myoffset: newOffset }); \r\n            this.showSongs(this.state.url); \r\n          }}> PREV </div>\r\n        }\r\n\r\n\r\n        if(this.state.myoffset+this.state.limit < this.state.tracksListLength){\r\n          nextButton = <div className=\"Next-Button\" \r\n          onClick={()=>{\r\n            const newOffset = parseInt(this.state.myoffset + this.state.limit)\r\n            this.setState({myoffset: newOffset }); \r\n            this.showSongs(this.state.url); \r\n          }}> NEXT </div>\r\n        }\r\n      }\r\n\r\n      display = \r\n      <div  className=\"Genres-Results-Box\">\r\n        <div className='Genres-Options'>\r\n          <div className=\"Genres-Options-Select\">\r\n          {prevButton}\r\n          {back}\r\n          <button className=\"Back-To-Album-List\" onClick={this.CategoryFromTrack.bind(this)}>PLAYLISTS</button>\r\n          {nextButton}\r\n          </div>\r\n          <div className=\"Genres-Options-Limit-Box\">\r\n            Limit: <Limit changeLimit={this.changeLimit.bind(this)} limit={this.state.limit}/>\r\n          </div>\r\n        </div>\r\n        <div  className=\"Results-List\">\r\n\r\n      \r\n          <div className=\"Playlists-Box\">\r\n          { this.state.playList.map((element, index)=>{\r\n            return(\r\n              <SinglePlaylist  key={index} parentElement={element} parentTotals={element.tracks.total} parentIndex={index} mytoken={this.props.mytoken} tracksList={this.tracksList.bind(this, element.tracks.href, index, element.tracks.total)}/>\r\n            )})}\r\n          </div>\r\n\r\n          <div className=\"Playlists-Tracks\">\r\n            {this.state.tracksList.map((element,index) =>{\r\n              if(this.state.tracksList.length> 0){\r\n                return(\r\n                  <SingleTrack  key={index} parentElement={element.track} parentIndex={index}/>\r\n                )\r\n              }\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    }\r\n    return(\r\n      <div className=\"Genres\">\r\n        {display}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FindGenres;"]},"metadata":{},"sourceType":"module"}