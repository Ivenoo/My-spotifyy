{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\src\\\\Favourite.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport SingleTrack from './SingleTrack';\nimport Limit from './Limit';\n\nvar Favourite =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Favourite, _React$Component);\n\n  function Favourite(props) {\n    var _this;\n\n    _classCallCheck(this, Favourite);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Favourite).call(this, props));\n\n    _this.myFavouriteSongs = function (e) {\n      var ShadowScroll = document.querySelector('html');\n      ShadowScroll.style.overflowY = 'hidden';\n      var Loader = document.querySelector('.Loader');\n      Loader.style.display = 'block';\n      var Shadow = document.querySelector('.Loader-Shadow-Box');\n      Shadow.className = \"Loader-Shadow-Box\";\n      Shadow.style.display = 'block';\n      Shadow.style.zIndex = '1998';\n      console.log('token: ' + _this.props.mytoken);\n\n      if (_this.props.mytoken !== '') {\n        setTimeout(function () {\n          JSON.parse(localStorage.getItem('favourite')).map(function (element) {\n            return axios({\n              url: \"https://api.spotify.com/v1/tracks/\".concat(element),\n              headers: {\n                'Authorization': 'Bearer ' + _this.props.mytoken\n              }\n            }).then(function (resp) {\n              _this.state.favArray.push(resp.data);\n\n              _this.setState({\n                favArray: _this.state.favArray\n              });\n            }).then(function (resp) {\n              setTimeout(function () {\n                var Loader = document.querySelector('.Loader');\n                Loader.className = 'Loader Shadow-Loader';\n                var Shadow = document.querySelector('.Loader-Shadow-Box');\n                Shadow.className = \"Loader-Shadow-Box Shadow-Key\";\n              }, 1000);\n              setTimeout(function () {\n                var Loader = document.querySelector('.Loader');\n                Loader.className = 'Loader';\n                Loader.style.display = 'none';\n              }, 1400);\n              setTimeout(function () {\n                var Shadow = document.querySelector('.Loader-Shadow-Box');\n                Shadow.className = \"Loader-Shadow-Box\";\n                Shadow.style.display = \"none\";\n              }, 2200);\n            });\n          });\n        }, 10);\n      } else {\n        setTimeout(function () {\n          _this.setState({\n            refresh: ''\n          });\n        }, 100);\n      }\n    };\n\n    _this.changeLimit = function (e) {\n      var ShadowScroll = document.querySelector('html');\n      ShadowScroll.style.overflowY = 'visible';\n      var newLimit = e.currentTarget.value;\n\n      _this.setState({\n        limit: newLimit,\n        myoffset: 0\n      });\n    };\n\n    _this.addOffset = function () {\n      _this.setState({\n        myoffset: parseInt(_this.state.myoffset) + parseInt(_this.state.limit)\n      });\n    };\n\n    _this.removeOffset = function () {\n      _this.setState({\n        myoffset: parseInt(_this.state.myoffset) - parseInt(_this.state.limit)\n      });\n    };\n\n    _this.state = {\n      favArray: [],\n      myoffset: 0,\n      limit: 5,\n      refresh: ''\n    };\n    return _this;\n  } // FUNKCJA POBIERAJACA ULUBIONE PIOSENKI PO ID (KTORE JEST W LOCAL STORAGE)//\n\n\n  _createClass(Favourite, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.myFavouriteSongs();\n    } //USTAWIENIE LIMITU WYSWIETLANYCH PIOSENEK//\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var prevButton = \"\",\n          nextButton = \"\";\n\n      if (this.state.myoffset > 0) {\n        prevButton = React.createElement(\"div\", {\n          className: \"Prev-Button\",\n          onClick: this.removeOffset,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, \" PREV \");\n      }\n\n      if (this.state.myoffset < this.state.favArray.length - this.state.limit) {\n        nextButton = React.createElement(\"div\", {\n          className: \"Next-Button\",\n          onClick: this.addOffset,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, \" NEXT \");\n      }\n\n      return React.createElement(\"div\", {\n        className: \"Favourite-Song\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Favourite-Song-Options\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, prevButton, nextButton, React.createElement(\"div\", {\n        className: \"Favourite-Song-Options-Limit-Box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Limit: \", React.createElement(Limit, {\n        changeLimit: this.changeLimit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"Favourite-Song-Box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, this.state.favArray.slice(this.state.myoffset, parseInt(this.state.myoffset) + parseInt(this.state.limit)).map(function (element, index) {\n        return React.createElement(SingleTrack, {\n          key: index,\n          parentElement: element,\n          parentIndex: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return Favourite;\n}(React.Component);\n\nexport default Favourite;","map":{"version":3,"sources":["C:\\Users\\Iveno\\Desktop\\Gicior_Z_Bolqiem\\My-spotify\\my-spotify-app\\src\\Favourite.js"],"names":["React","axios","SingleTrack","Limit","Favourite","props","myFavouriteSongs","e","ShadowScroll","document","querySelector","style","overflowY","Loader","display","Shadow","className","zIndex","console","log","mytoken","setTimeout","JSON","parse","localStorage","getItem","map","element","url","headers","then","resp","state","favArray","push","data","setState","refresh","changeLimit","newLimit","currentTarget","value","limit","myoffset","addOffset","parseInt","removeOffset","prevButton","nextButton","length","bind","slice","index","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport SingleTrack from './SingleTrack';\r\nimport Limit from './Limit'\r\n\r\nclass Favourite extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      favArray: [],\r\n      myoffset: 0,\r\n      limit: 5,\r\n      refresh: ''\r\n    }\r\n  }\r\n\r\n  // FUNKCJA POBIERAJACA ULUBIONE PIOSENKI PO ID (KTORE JEST W LOCAL STORAGE)//\r\n  myFavouriteSongs =(e) =>{\r\n    const ShadowScroll = document.querySelector('html');\r\n    ShadowScroll.style.overflowY = 'hidden';\r\n    const Loader = document.querySelector('.Loader')\r\n    Loader.style.display = 'block';\r\n    const  Shadow = document.querySelector('.Loader-Shadow-Box')\r\n    Shadow.className= \"Loader-Shadow-Box\"\r\n    Shadow.style.display = 'block';\r\n    Shadow.style.zIndex = '1998';\r\n    console.log('token: ' +this.props.mytoken)\r\n    if(this.props.mytoken !== ''){\r\n      setTimeout(() =>{ \r\n        JSON.parse(localStorage.getItem('favourite')).map(element =>\r\n        axios({\r\n          url: `https://api.spotify.com/v1/tracks/${element}`,\r\n          headers:{\r\n           'Authorization': 'Bearer ' + this.props.mytoken\r\n          }\r\n        }).then(resp =>{  \r\n          this.state.favArray.push(resp.data)\r\n            this.setState({\r\n              favArray: this.state.favArray\r\n            }) \r\n        }).then(resp =>{\r\n  \r\n          setTimeout(()=>{\r\n            const Loader = document.querySelector('.Loader');\r\n            Loader.className = 'Loader Shadow-Loader';\r\n            const  Shadow = document.querySelector('.Loader-Shadow-Box');\r\n            Shadow.className= \"Loader-Shadow-Box Shadow-Key\";\r\n            \r\n          },1000)\r\n          setTimeout(()=>{\r\n            const Loader = document.querySelector('.Loader');\r\n            Loader.className = 'Loader';\r\n            Loader.style.display = 'none';\r\n          },1400)\r\n          setTimeout(()=>{\r\n            const  Shadow = document.querySelector('.Loader-Shadow-Box');\r\n            Shadow.className= \"Loader-Shadow-Box\";\r\n            Shadow.style.display= \"none\";\r\n           },2200)\r\n  \r\n        })\r\n      )\r\n      },10)\r\n    }else{\r\n      setTimeout(() => {\r\n        this.setState({\r\n          refresh: ''\r\n        })\r\n      },100)\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.myFavouriteSongs()\r\n  }\r\n\r\n      //USTAWIENIE LIMITU WYSWIETLANYCH PIOSENEK//\r\n  changeLimit = (e) =>{\r\n    const ShadowScroll = document.querySelector('html');\r\n    ShadowScroll.style.overflowY = 'visible';\r\n    const newLimit = e.currentTarget.value\r\n    this.setState({\r\n      limit: newLimit,\r\n      myoffset: 0\r\n    })\r\n  }\r\n\r\n      //WYSWIETLANIE KOLEJNYCH PIOSENEK Z LISTY ULUBIONYCH (NEXT) //\r\n  addOffset =() =>{\r\n    this.setState({\r\n      myoffset: parseInt(this.state.myoffset) + parseInt(this.state.limit)\r\n    })\r\n  }\r\n  \r\n      // WYSWIETLANEI POPRZEDNICH PIOSENEK (PREVIOUS) DZIALA PO UPRZEDNIM KLIKNIECIU NA NEXT//\r\n  removeOffset =() =>{\r\n    this.setState({\r\n      myoffset: parseInt(this.state.myoffset) - parseInt(this.state.limit)\r\n    })\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    let prevButton = \"\", nextButton = \"\";\r\n    if(this.state.myoffset  > 0){\r\n      prevButton = <div className=\"Prev-Button\" onClick={this.removeOffset}> PREV </div>\r\n    }\r\n    if(this.state.myoffset < this.state.favArray.length - this.state.limit){\r\n      nextButton = <div className=\"Next-Button\" onClick={this.addOffset}> NEXT </div>\r\n    }\r\n    return(\r\n      <div className='Favourite-Song'>\r\n        <div className='Favourite-Song-Options'>\r\n          {prevButton}\r\n          {nextButton}\r\n          <div className=\"Favourite-Song-Options-Limit-Box\">\r\n            Limit: <Limit changeLimit={this.changeLimit.bind(this)}/>\r\n          </div>\r\n        </div>\r\n        <div className=\"Favourite-Song-Box\">\r\n          {this.state.favArray.slice(this.state.myoffset,parseInt(this.state.myoffset) + parseInt(this.state.limit)).map((element,index) =>\r\n            <SingleTrack  key={index} parentElement={element} parentIndex={index}/>\r\n          )}\r\n        </div>\r\n      </div>\r\n      )\r\n    }\r\n}\r\n\r\nexport default Favourite;\r\n"]},"metadata":{},"sourceType":"module"}