{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Iveno\\\\Desktop\\\\Gicior_Z_Bolqiem\\\\My-spotify\\\\my-spotify-app\\\\src\\\\LastFavourite.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport SingleTrack from './SingleTrack';\nimport Limit from './Limit';\n\nvar LastFavourite =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LastFavourite, _React$Component);\n\n  function LastFavourite(props) {\n    var _this;\n\n    _classCallCheck(this, LastFavourite);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LastFavourite).call(this, props));\n\n    _this.myFavouriteSongs = function (e) {\n      setTimeout(function () {\n        JSON.parse(localStorage.getItem('favourite')).map(function (element) {\n          return axios({\n            url: \"https://api.spotify.com/v1/tracks/\".concat(element),\n            headers: {\n              'Authorization': 'Bearer ' + _this.props.mytoken\n            }\n          }).then(function (resp) {\n            _this.state.favArray.push(resp.data);\n\n            _this.setState({\n              favArray: _this.state.favArray\n            });\n          });\n        });\n      }, 10);\n    };\n\n    _this.state = {\n      box: [],\n      box2: [],\n      favArray: [],\n      limit: 20\n    };\n    return _this;\n  } // FUNKCJA POBIERAJACA ULUBIONE PIOSENKI PO ID (KTORE JEST W LOCAL STORAGE)//\n\n\n  _createClass(LastFavourite, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.myFavouriteSongs();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Title-Box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"ITS YOUR 20 LAST ADDED FAVOURITE SONGS\"), React.createElement(\"ol\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, this.state.favArray.slice(this.state.myoffset, parseInt(this.state.limit)).map(function (element, index) {\n        return React.createElement(SingleTrack, {\n          key: index,\n          parentElement: element,\n          parentIndex: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return LastFavourite;\n}(React.Component);\n\nexport default LastFavourite;","map":{"version":3,"sources":["C:\\Users\\Iveno\\Desktop\\Gicior_Z_Bolqiem\\My-spotify\\my-spotify-app\\src\\LastFavourite.js"],"names":["React","axios","SingleTrack","Limit","LastFavourite","props","myFavouriteSongs","e","setTimeout","JSON","parse","localStorage","getItem","map","element","url","headers","mytoken","then","resp","state","favArray","push","data","setState","box","box2","limit","slice","myoffset","parseInt","index","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;IAKMC,a;;;;;AACJ,yBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,uFAAMA,KAAN;;AADgB,UAWlBC,gBAXkB,GAWA,UAACC,CAAD,EAAM;AACtBC,MAAAA,UAAU,CAAC,YAAK;AACdC,QAAAA,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,EAA8CC,GAA9C,CAAkD,UAAAC,OAAO;AAAA,iBACzDb,KAAK,CAAC;AACJc,YAAAA,GAAG,8CAAuCD,OAAvC,CADC;AAEJE,YAAAA,OAAO,EAAC;AACP,+BAAiB,YAAY,MAAKX,KAAL,CAAWY;AADjC;AAFJ,WAAD,CAAL,CAKGC,IALH,CAKQ,UAAAC,IAAI,EAAG;AACb,kBAAKC,KAAL,CAAWC,QAAX,CAAoBC,IAApB,CAAyBH,IAAI,CAACI,IAA9B;;AACE,kBAAKC,QAAL,CAAc;AACZH,cAAAA,QAAQ,EAAE,MAAKD,KAAL,CAAWC;AADT,aAAd;AAGH,WAVD,CADyD;AAAA,SAAzD;AAaD,OAdS,EAcR,EAdQ,CAAV;AAeD,KA3BiB;;AAEhB,UAAKD,KAAL,GAAa;AACXK,MAAAA,GAAG,EAAC,EADO;AAEXC,MAAAA,IAAI,EAAE,EAFK;AAGXL,MAAAA,QAAQ,EAAE,EAHC;AAIXM,MAAAA,KAAK,EAAE;AAJI,KAAb;AAFgB;AAQjB,G,CAEK;;;;;wCAmBa;AACjB,WAAKrB,gBAAL;AACD;;;6BAIQ;AAEP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,KAAKc,KAAL,CAAWC,QAAX,CAAoBO,KAApB,CAA0B,KAAKR,KAAL,CAAWS,QAArC,EAA8CC,QAAQ,CAAC,KAAKV,KAAL,CAAWO,KAAZ,CAAtD,EAA0Ed,GAA1E,CAA8E,UAACC,OAAD,EAASiB,KAAT;AAAA,eAC1E,oBAAC,WAAD;AAAc,UAAA,GAAG,EAAEA,KAAnB;AAA0B,UAAA,aAAa,EAAEjB,OAAzC;AAAkD,UAAA,WAAW,EAAEiB,KAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAD0E;AAAA,OAA9E,CAFJ,CAFF,CADF;AAYC;;;;EAlDuB/B,KAAK,CAACgC,S;;AAqDlC,eAAe5B,aAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport SingleTrack from './SingleTrack';\r\nimport Limit from './Limit'\r\n\r\n\r\n\r\n\r\nclass LastFavourite extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      box:[],\r\n      box2: [],\r\n      favArray: [],\r\n      limit: 20,\r\n    }\r\n  }\r\n\r\n        // FUNKCJA POBIERAJACA ULUBIONE PIOSENKI PO ID (KTORE JEST W LOCAL STORAGE)//\r\n  myFavouriteSongs =(e) =>{\r\n    setTimeout(() =>{ \r\n      JSON.parse(localStorage.getItem('favourite')).map(element =>\r\n      axios({\r\n        url: `https://api.spotify.com/v1/tracks/${element}`,\r\n        headers:{\r\n         'Authorization': 'Bearer ' + this.props.mytoken\r\n        }\r\n      }).then(resp =>{ \r\n        this.state.favArray.push(resp.data)\r\n          this.setState({\r\n            favArray: this.state.favArray\r\n          }) \r\n      })\r\n    )\r\n    },10)\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.myFavouriteSongs()\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    return(\r\n      <div>\r\n        <div className='Title-Box'>ITS YOUR 20 LAST ADDED FAVOURITE SONGS</div>\r\n        <ol>\r\n          {\r\n            this.state.favArray.slice(this.state.myoffset,parseInt(this.state.limit)).map((element,index) =>\r\n                <SingleTrack  key={index} parentElement={element} parentIndex={index}/>\r\n            )\r\n          }\r\n        </ol>\r\n      </div>\r\n      )\r\n    }\r\n}\r\n\r\nexport default LastFavourite;\r\n"]},"metadata":{},"sourceType":"module"}